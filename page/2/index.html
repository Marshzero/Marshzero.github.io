<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="打工人，打工魂，打工都是人上人!">
<meta property="og:type" content="website">
<meta property="og:title" content="Yzy&#39;s blog">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Yzy&#39;s blog">
<meta property="og:description" content="打工人，打工魂，打工都是人上人!">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yang Zeyu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Yzy's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Yzy's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/30/LSANet%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/30/LSANet%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">LSANet代码分析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-30 15:32:59" itemprop="dateCreated datePublished" datetime="2020-10-30T15:32:59+08:00">2020-10-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-21 16:03:05" itemprop="dateModified" datetime="2020-11-21T16:03:05+08:00">2020-11-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%82%B9%E4%BA%91/" itemprop="url" rel="index"><span itemprop="name">点云</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>论文LSANet看的差不多，对其代码进行分析，看看是怎么实现论文中的模型。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">论文地址：https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1905.05442</span><br><span class="line">代码地址：https:&#x2F;&#x2F;github.com&#x2F;LinZhuoChen&#x2F;LSANet</span><br></pre></td></tr></table></figure>
<h2 id="SFE模块"><a href="#SFE模块" class="headerlink" title="SFE模块"></a>SFE模块</h2><p><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/20201028152630.png" alt="20201028152630"><br>pointnet_util.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sample_and_group</span>(<span class="params">npoint, radius, nsample, xyz, points, bn, is_training, bn_decay, mlp, knn=<span class="literal">False</span>, use_xyz=<span class="literal">True</span>, xyz_feature=<span class="literal">None</span>, end=<span class="literal">False</span>, use_edge_feature=<span class="literal">False</span></span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    Input:</span></span><br><span class="line"><span class="string">        npoint: int32 点的数量</span></span><br><span class="line"><span class="string">        radius: float32 半径</span></span><br><span class="line"><span class="string">        nsample: int32 采样点的数量</span></span><br><span class="line"><span class="string">        xyz: (batch_size, ndataset, 3) TF tensor BxNx3的点的xyz信息</span></span><br><span class="line"><span class="string">        points: (batch_size, ndataset, channel) TF tensor, if None will just use xyz as points BxNxC的点的特征信息，如果为空则用xyz</span></span><br><span class="line"><span class="string">        knn: bool, if True use kNN instead of radius search 如果为True则使用knn替代球查询</span></span><br><span class="line"><span class="string">        use_xyz: bool, if True concat XYZ with local point features, otherwise just use point features</span></span><br><span class="line"><span class="string">        xyz_feature: 上一个SFE即sample_and_group的输出Feature_out(xyz_feature)</span></span><br><span class="line"><span class="string">    Output:</span></span><br><span class="line"><span class="string">        new_xyz: (batch_size, npoint, 3) TF tensor</span></span><br><span class="line"><span class="string">        new_points: (batch_size, npoint, nsample, 3+channel) TF tensor</span></span><br><span class="line"><span class="string">        idx: (batch_size, npoint, nsample) TF tensor, indices of local points as in ndataset points</span></span><br><span class="line"><span class="string">        output_feature: 图中的Feature_sfe</span></span><br><span class="line"><span class="string">        xyz_feature: 图中的Feature_out</span></span><br><span class="line"><span class="string">        grouped_xyz: 图中绿色的BxN&#x27;xKx3 (batch_size, npoint, nsample, 3) TF tensor, normalized point XYZs</span></span><br><span class="line"><span class="string">            (subtracted by seed point XYZ) in local regions</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># new_xyz = (N,Fin)</span></span><br><span class="line">    new_xyz = gather_point(xyz, farthest_point_sample(npoint, xyz))  <span class="comment"># (batch_size, npoint, 3)</span></span><br><span class="line">    <span class="keyword">if</span> knn: <span class="comment">#看用knn还是球查询</span></span><br><span class="line">        _, idx = knn_point(nsample, xyz, new_xyz)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        idx, pts_cnt = query_ball_point(radius, nsample, xyz, new_xyz)</span><br><span class="line">    grouped_xyz = group_point(xyz, idx)  <span class="comment"># (batch_size, npoint, nsample, 3) = (b,N&#x27;,K,3)</span></span><br><span class="line">    grouped_xyz -= tf.tile(tf.expand_dims(new_xyz, <span class="number">2</span>), [<span class="number">1</span>, <span class="number">1</span>, nsample, <span class="number">1</span>])  <span class="comment"># translation normalization</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> points <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        grouped_points = group_point(points, idx)  <span class="comment"># (batch_size, npoint, nsample, channel) = (b,N&#x27;,K,Fin)</span></span><br><span class="line">        <span class="keyword">if</span> use_xyz:</span><br><span class="line">            new_points = tf.concat([grouped_xyz, grouped_points], axis=<span class="number">-1</span>)  <span class="comment"># (batch_size, npoint, nample, 3+channel)</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            new_points = grouped_points</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        new_points = grouped_xyz <span class="comment"># new_points = 拼接特征和坐标的结果 #这里不是SFE</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">############################# 对比pointnet++增加的部分</span></span><br><span class="line">    <span class="comment"># 使用edge特征</span></span><br><span class="line">    <span class="keyword">if</span> use_edge_feature == <span class="literal">False</span>:</span><br><span class="line">        <span class="keyword">return</span> new_xyz, new_points, idx, grouped_xyz</span><br><span class="line">    <span class="comment"># [batch_size, npoint, 1, F]</span></span><br><span class="line">    <span class="keyword">if</span> xyz_feature == <span class="literal">None</span>:</span><br><span class="line">        xyz_feature = xyz</span><br><span class="line"></span><br><span class="line">    xyz_feature = group_point(xyz_feature, idx) <span class="comment"># xyz_feature = (N&#x27;,K,Fin) 若xyz_feature == None所以和下面的edge_feature一样</span></span><br><span class="line">    edge_feature = grouped_xyz <span class="comment"># (batch_size, npoint, nsample, 3) = (N&#x27;,K,3) 图中绿色部分</span></span><br><span class="line">    <span class="keyword">for</span> i, num_out_channel <span class="keyword">in</span> <span class="built_in">enumerate</span>(mlp):</span><br><span class="line">        edge_feature = tf_util.conv2d(edge_feature, num_out_channel, [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                      padding=<span class="string">&#x27;VALID&#x27;</span>, stride=[<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                      bn=bn, is_training=is_training,</span><br><span class="line">                                      scope=<span class="string">&#x27;xyz_feature_%d&#x27;</span> % (i), bn_decay=bn_decay)</span><br><span class="line">    output_feature = tf.concat([xyz_feature, edge_feature], axis=<span class="number">-1</span>) <span class="comment"># 拼接两个特征，在进行mlp和maxpool</span></span><br><span class="line">    <span class="keyword">if</span> end == <span class="literal">False</span>:</span><br><span class="line">        xyz_feature = tf_util.conv2d(output_feature, mlp[<span class="number">-1</span>], [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                     padding=<span class="string">&#x27;VALID&#x27;</span>, stride=[<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                     bn=bn, is_training=is_training,</span><br><span class="line">                                     scope=<span class="string">&#x27;xyz_feature2&#x27;</span>, bn_decay=bn_decay)</span><br><span class="line">        <span class="comment"># we can try sum and mean</span></span><br><span class="line">        xyz_feature = tf.reduce_max(xyz_feature, axis=[<span class="number">2</span>], keep_dims=<span class="literal">True</span>, name=<span class="string">&#x27;maxpool&#x27;</span>)</span><br><span class="line">        xyz_feature = tf.squeeze(xyz_feature, [<span class="number">2</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="comment">############################# output_feature是Feature_sfe，xyz_feature是Feature_out</span></span><br><span class="line">    <span class="keyword">return</span> new_xyz, new_points, idx, output_feature, xyz_feature, grouped_xyz</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="LSA-layer"><a href="#LSA-layer" class="headerlink" title="LSA layer"></a>LSA layer</h2><p><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/20201028163403.png" alt="20201028163403"><br><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/20201028163416.png" alt="20201028163416"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="SDWs模块"><a href="#SDWs模块" class="headerlink" title="SDWs模块"></a>SDWs模块</h2><h2 id="整体结构"><a href="#整体结构" class="headerlink" title="整体结构"></a>整体结构</h2><p>LSA layer：在下面代码函数中，会调用SFE的代码即sample_and_group()函数，随之调用LSA layer模块，也就是说LSA_layer()函数包括了SFE和LSA layer两个操作，在model的代码中通过定义多个层数来进行图示的多个layer的操作<br><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/20201028152601.png" alt="20201028152601"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">LSA_layer</span>(<span class="params">xyz, points, npoint, radius, nsample, mlp, mlp2, group_all, is_training, bn_decay,</span></span></span><br><span class="line"><span class="function"><span class="params">                          scope, xyz_feature=<span class="literal">None</span>, bn=<span class="literal">True</span>, pooling=<span class="string">&#x27;max&#x27;</span>, knn=<span class="literal">False</span>, use_xyz=<span class="literal">True</span>, use_nchw=<span class="literal">False</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                          end=<span class="literal">False</span></span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; LSA layer</span></span><br><span class="line"><span class="string">        Input:</span></span><br><span class="line"><span class="string">            xyz: (batch_size, ndataset, 3) TF tensor BxNx3的点的xyz信息</span></span><br><span class="line"><span class="string">            points: (batch_size, ndataset, channel) TF tensor BxNxC的点的特征信息，如果为空则用xyz</span></span><br><span class="line"><span class="string">            npoint: int32 -- #points sampled in farthest point sampling 点的数量</span></span><br><span class="line"><span class="string">            radius: float32 -- search radius in local region 采样分组的半径</span></span><br><span class="line"><span class="string">            nsample: int32 -- how many points in each local region 采样点的数量</span></span><br><span class="line"><span class="string">            mlp: list of int32 -- output size for MLP on each point 每个点在mlp中输出的通道大小</span></span><br><span class="line"><span class="string">            mlp2: list of int32 -- output size for MLP on each region 每个局部区域在mlp中输出的通道大小</span></span><br><span class="line"><span class="string">            group_all: bool -- group all points into one PC if set true, OVERRIDE</span></span><br><span class="line"><span class="string">                npoint, radius and nsample settings</span></span><br><span class="line"><span class="string">            is_training: bool -- whether train this LSA layer</span></span><br><span class="line"><span class="string">            bn_decay: float32 -- batch norm decay</span></span><br><span class="line"><span class="string">            scope: scope in tensorflow</span></span><br><span class="line"><span class="string">            xyz_feature: float32 -- feature from SFE 即是Feature_out</span></span><br><span class="line"><span class="string">            use_xyz: bool, if True concat XYZ with local point features, otherwise just use point features</span></span><br><span class="line"><span class="string">            use_nchw: bool, if True, use NCHW data format for conv2d, which is usually faster than NHWC format</span></span><br><span class="line"><span class="string">        Return:</span></span><br><span class="line"><span class="string">            new_xyz: (batch_size, npoint, 3) TF tensor 新的xyz</span></span><br><span class="line"><span class="string">            new_points: (batch_size, npoint, mlp[-1] or mlp2[-1]) TF tensor 新的points</span></span><br><span class="line"><span class="string">            idx: (batch_size, npoint, nsample) int32 -- indices for local regions 局部点的索引</span></span><br><span class="line"><span class="string">            xyz_feature: LSA layer 的Feature_out</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    data_format = <span class="string">&#x27;NCHW&#x27;</span> <span class="keyword">if</span> use_nchw <span class="keyword">else</span> <span class="string">&#x27;NHWC&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> tf.variable_scope(scope) <span class="keyword">as</span> sc:</span><br><span class="line">        <span class="comment"># Sample and Grouping 采样并分组</span></span><br><span class="line">        <span class="keyword">if</span> group_all:</span><br><span class="line">            nsample = xyz.get_shape()[<span class="number">1</span>].value</span><br><span class="line">            new_xyz, new_points, idx, output_feature, xyz_feature, grouped_xyz = sample_and_group_all(xyz, points, bn, is_training, bn_decay, mlp2, use_xyz, xyz_feature, end, use_edge_feature=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            new_xyz, new_points, idx, output_feature, xyz_feature, grouped_xyz = sample_and_group(npoint, radius, nsample, xyz, points, bn, is_training, bn_decay, mlp2, knn, use_xyz, xyz_feature, end, use_edge_feature=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># xyz Feature Embedding</span></span><br><span class="line">        <span class="comment"># 这里将output_feature和新点云的信息拼接到一起了 总体架构中的C操作</span></span><br><span class="line">        new_points = tf.concat([new_points, output_feature], axis=<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># SDWs模块 </span></span><br><span class="line">        channel = new_points.get_shape()[<span class="number">-1</span>].value</span><br><span class="line">        <span class="comment">## spatial encoder</span></span><br><span class="line">        attention_xyz_1 = tf_util.conv2d(grouped_xyz, <span class="number">64</span>, [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                         padding=<span class="string">&#x27;VALID&#x27;</span>, stride=[<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                         bn=bn, is_training=is_training,</span><br><span class="line">                                         scope=<span class="string">&#x27;xyz_attention_1&#x27;</span>, bn_decay=bn_decay,</span><br><span class="line">                                         data_format=data_format) <span class="comment"># Spi</span></span><br><span class="line">        <span class="comment">## Region Spatial Encoder</span></span><br><span class="line">        attention_xyz_2 = tf_util.conv2d(grouped_xyz, <span class="number">64</span>, [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                         padding=<span class="string">&#x27;VALID&#x27;</span>, stride=[<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                         bn=bn, is_training=is_training,</span><br><span class="line">                                         scope=<span class="string">&#x27;xyz_attention_2&#x27;</span>, bn_decay=bn_decay,</span><br><span class="line">                                         data_format=data_format)</span><br><span class="line">        attention_xyz_2 = tf.reduce_mean(attention_xyz_2, axis=[<span class="number">2</span>], keep_dims=<span class="literal">True</span>, name=<span class="string">&#x27;meanpool&#x27;</span>)</span><br><span class="line">        attention_xyz_2 = tf.tile(attention_xyz_2, [<span class="number">1</span>, <span class="number">1</span>, nsample, <span class="number">1</span>]) <span class="comment"># Sg</span></span><br><span class="line">        attention_xyz = tf.concat([attention_xyz_1, attention_xyz_2], axis=<span class="number">-1</span>) <span class="comment">#Si</span></span><br><span class="line">        <span class="comment">## shared MLP+MLP_</span></span><br><span class="line">        <span class="keyword">for</span> i, num_out_channel <span class="keyword">in</span> <span class="built_in">enumerate</span>(mlp):</span><br><span class="line">            <span class="comment"># 假设是第一轮循环</span></span><br><span class="line">            <span class="comment">## shared MLP_1(in LSA hierarchical encoding)</span></span><br><span class="line">            new_points = tf_util.conv2d(new_points, num_out_channel, [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                        padding=<span class="string">&#x27;VALID&#x27;</span>, stride=[<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                        bn=bn, is_training=is_training,</span><br><span class="line">                                        scope=<span class="string">&#x27;conv%d&#x27;</span> % (i), bn_decay=bn_decay,</span><br><span class="line">                                        data_format=data_format) </span><br><span class="line">            <span class="comment">## shared MLP(in SDWs)</span></span><br><span class="line">            attention_xyz = tf_util.conv2d(attention_xyz, num_out_channel, [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                        padding=<span class="string">&#x27;VALID&#x27;</span>, stride=[<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                        bn=bn, is_training=is_training,</span><br><span class="line">                                        scope=<span class="string">&#x27;xyz_attention%d&#x27;</span> % (i), bn_decay=bn_decay,</span><br><span class="line">                                        data_format=data_format, activation_fn=tf.sigmoid)</span><br><span class="line">            <span class="comment"># LSA layer中的X操作，即元素相乘</span></span><br><span class="line">            new_points = tf.multiply(new_points, attention_xyz)</span><br><span class="line">        <span class="comment"># LSA pooling</span></span><br><span class="line">        new_points = tf.reduce_max(new_points, axis=[<span class="number">2</span>], keep_dims=<span class="literal">True</span>, name=<span class="string">&#x27;maxpool2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        new_points = tf.squeeze(new_points, [<span class="number">2</span>])  <span class="comment"># (batch_size, npoints, mlp2[-1]) # 删掉为1的维度</span></span><br><span class="line">        <span class="comment"># new_points = tf.concat([new_points, xyz_feature], axis=-1)</span></span><br><span class="line">        <span class="keyword">return</span> new_xyz, new_points, idx, xyz_feature</span><br></pre></td></tr></table></figure>
<h2 id="细节分析"><a href="#细节分析" class="headerlink" title="细节分析"></a>细节分析</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/28/conda%E5%AE%89%E8%A3%85cv2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/28/conda%E5%AE%89%E8%A3%85cv2/" class="post-title-link" itemprop="url">conda安装cv2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-28 10:31:59" itemprop="dateCreated datePublished" datetime="2020-10-28T10:31:59+08:00">2020-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-21 16:00:32" itemprop="dateModified" datetime="2020-11-21T16:00:32+08:00">2020-11-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/" itemprop="url" rel="index"><span itemprop="name">软件配置</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>conda install –channel <a target="_blank" rel="noopener" href="https://conda.anaconda.org/menpo">https://conda.anaconda.org/menpo</a> opencv</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/27/ubuntu%E4%BD%BF%E7%94%A8ss%E6%88%96ssr%E4%B8%8E%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/ubuntu%E4%BD%BF%E7%94%A8ss%E6%88%96ssr%E4%B8%8E%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86/" class="post-title-link" itemprop="url">ubuntu使用ss或ssr与配置全局代理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-27 15:27:31" itemprop="dateCreated datePublished" datetime="2020-10-27T15:27:31+08:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-03 16:31:01" itemprop="dateModified" datetime="2020-11-03T16:31:01+08:00">2020-11-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/" itemprop="url" rel="index"><span itemprop="name">软件配置</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近要下载一个很大的数据集，然而国内的网访问只有几十k/s，没办法只能用小飞机了。下载数据集的是一个python脚本，那只能配置全局代理了。</p>
<h2 id="安装小飞机"><a href="#安装小飞机" class="headerlink" title="安装小飞机"></a>安装小飞机</h2><h3 id="1-安装shadowsocks"><a href="#1-安装shadowsocks" class="headerlink" title="1. 安装shadowsocks"></a>1. 安装shadowsocks</h3><p>网址：<a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks">https://github.com/shadowsocks/shadowsocks</a><br>从官网下载软件，并使用自己的账号进行配置。<br>配置/etc/shadowsocks.json(没有就新建一个)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;代理服务器IP&quot;,</span><br><span class="line">    &quot;server_port&quot;:代理服务器ss服务端口,</span><br><span class="line">    &quot;password&quot;:&quot;密码&quot;,</span><br><span class="line">    &quot;timeout&quot;:300,</span><br><span class="line">    &quot;method&quot;:&quot;加密类型&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>启动服务(本地的用sslocal，不用ssserver)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sslocal -c &#x2F;etc&#x2F;shadowsocks.json</span><br></pre></td></tr></table></figure>

<p>这时配置系统代理为127.0.0.1:8080即可科学上网</p>
<h3 id="2-安装shadowsocksR"><a href="#2-安装shadowsocksR" class="headerlink" title="2. 安装shadowsocksR"></a>2. 安装shadowsocksR</h3><p>网址：<a target="_blank" rel="noopener" href="https://github.com/qingshuisiyuan/electron-ssr-backup">https://github.com/qingshuisiyuan/electron-ssr-backup</a><br>根据以上网址安装并配置，并使用命令启动，在图形化界面配置账号信息</p>
<h2 id="配置全局代理"><a href="#配置全局代理" class="headerlink" title="配置全局代理"></a>配置全局代理</h2><p>Terminal只支持http、https协议，而ShadowSocks使用的是socks协议，ssr同理。我们可以使用Privoxy来将http和socks相互转换。<br>首先，使用下面的命令安装Privoxy：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install privoxy</span><br></pre></td></tr></table></figure>

<p>安装完毕后，打开Privoxy的配置文件/etc/privoxy/config:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit &#x2F;etc&#x2F;privoxy&#x2F;config</span><br></pre></td></tr></table></figure>

<p>第一步定位到4.1. listen-address 这一段，找到监听的端口，我的是在第783行：<br><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/IMG_4309.JPG" alt="IMG_4309"><br>可以看到端口一般都是8118。<br>接着找到5.2. forward-socks4, forward-socks4a, forward-socks5 and forward-socks5t这一节，加上如下配置(图中是ssr的配置):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forward-socks5 &#x2F; 127.0.0.1:1080 .</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/IMG_4310.JPG" alt="IMG_4310"></p>
<p>保存后，重启一下Privoxy:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;privoxy restart</span><br></pre></td></tr></table></figure>

<p>接着配置终端的环境，打开终端配置文件:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure>

<p>在末尾追加下面代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy&#x3D;&quot;127.0.0.1:8118&quot;</span><br><span class="line">export https_proxy&#x3D;&quot;127.0.0.1:8118&quot;</span><br></pre></td></tr></table></figure>

<p>保存文件后，重启终端或者执行下面的命令重新读取配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure>

<p>使用下面代码来测试穿墙是否成功：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;www.google.com</span><br></pre></td></tr></table></figure>

<p>穿墙成功，接着将Privoxy添加到开机启动，在/etc/rc.local中添加如下命令，注意在exit 0之前:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;privoxy start</span><br></pre></td></tr></table></figure>

<p>在/etc/profile的末尾添加如下两句:</p>
<pre><code>export http_proxy=&quot;127.0.0.1:8118&quot;
export https_proxy=&quot;127.0.0.1:8118&quot;</code></pre>
<p>到这里就可以使用Terminal来科学上网了，注意这部分是根据ss中默认本地端口为1080的情况，如果是ssr，端口是12333，要配置成相应的12333端口。其本质就是ss或ssr进行listen，系统设置代理后，出网的数据要流到127.0.0.1:1080(或12333),ss和ssr listen 后接收数据并通过自己的信道传输。加上privoxy后，就是系统代理发到privoxy，然后privoxy再发到ss ssr上，这中间privoxy可以转发sock5的，也就实现了terminal的穿墙</p>
<p>参考文章：<br><a target="_blank" rel="noopener" href="https://www.pianshen.com/article/8287306670/">https://www.pianshen.com/article/8287306670/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/27/ply%E6%A0%BC%E5%BC%8F%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/ply%E6%A0%BC%E5%BC%8F%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">ply格式文件介绍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-27 09:51:24" itemprop="dateCreated datePublished" datetime="2020-10-27T09:51:24+08:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-03 16:32:14" itemprop="dateModified" datetime="2020-11-03T16:32:14+08:00">2020-11-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%82%B9%E4%BA%91/" itemprop="url" rel="index"><span itemprop="name">点云</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ply文件介绍"><a href="#ply文件介绍" class="headerlink" title="ply文件介绍"></a>ply文件介绍</h2><p>PLY是一种三维mesh模型数据格式，全名为多边形档案（Polygon File Format）或 斯坦福三角形档案（Stanford Triangle Format）。 </p>
<p>该格式主要用以储存立体扫描结果的三维数值，透过多边形片面的集合描述三维物体，与其他格式相较之下这是较为简单的方法。它可以储存的资讯包含颜色、透明度、表面法向量、材质座标与资料可信度，并能对多边形的正反两面设定不同的属性。</p>
<p>在档案内容的储存上PLY有两种版本，分别是纯文字（ASCII）版本与二元码（binary）版本，其差异在储存时是否以ASCII编码表示元素资讯。<br>ply文件的基本格式如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">This is the structure of a typical PLY file:</span><br><span class="line"></span><br><span class="line">  Header</span><br><span class="line">  Vertex List</span><br><span class="line">  Face List</span><br><span class="line">  (lists of other elements)</span><br></pre></td></tr></table></figure>
<p>从ply到end_header是头部，element可以有多个property，例如vertex可以有xyz三个property。ply示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">ply</span><br><span class="line">format ascii 1.0           &#123; ascii&#x2F;binary, 编码类型 &#125;</span><br><span class="line">comment made by Greg Turk  &#123; comments keyword specified, like all lines &#125;</span><br><span class="line">comment this file is a cube</span><br><span class="line">element vertex 8           &#123; 定义 &quot;vertex&quot; 元素, 8 代表这个文件有八个顶点信息 &#125;</span><br><span class="line">property float x           &#123; vertex contains float &quot;x&quot; coordinate &#125;</span><br><span class="line">property float y           &#123; y coordinate is also a vertex property &#125;</span><br><span class="line">property float z           &#123; z coordinate, too &#125;</span><br><span class="line">element face 6             &#123; 定义 &quot;face&quot; 元素, 6 代表这个文件有六个面信息 &#125;</span><br><span class="line">property list uchar int vertex_index &#123; &quot;vertex_indices&quot; is a list of ints &#125;</span><br><span class="line">end_header                 &#123; delimits the end of the header &#125;</span><br><span class="line">0 0 0                      &#123; start of vertex list &#125;</span><br><span class="line">0 0 1</span><br><span class="line">0 1 1</span><br><span class="line">0 1 0</span><br><span class="line">1 0 0</span><br><span class="line">1 0 1</span><br><span class="line">1 1 1</span><br><span class="line">1 1 0</span><br><span class="line">4 0 1 2 3                  &#123; start of face list &#125;</span><br><span class="line">4 7 6 5 4</span><br><span class="line">4 0 4 5 1</span><br><span class="line">4 1 5 6 2</span><br><span class="line">4 2 6 7 3</span><br><span class="line">4 3 7 4 0</span><br></pre></td></tr></table></figure>

<p>这里是一个对ply文件的解释<br><a target="_blank" rel="noopener" href="http://paulbourke.net/dataformats/ply/">http://paulbourke.net/dataformats/ply/</a><br>这里有一个ply文件的示例<br><a target="_blank" rel="noopener" href="http://paulbourke.net/dataformats/ply/example1.ply">http://paulbourke.net/dataformats/ply/example1.ply</a></p>
<h2 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> plyfile <span class="keyword">import</span> PlyData</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<p>使用plydata.read读取ply文件，可以看到ply_data是头部信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ply_data = PlyData.read(<span class="string">&#x27;../repo/bun_zipper.ply&#x27;</span>)</span><br><span class="line">print(ply_data)</span><br></pre></td></tr></table></figure>
<pre><code># 输出
ply
format ascii 1.0
comment zipper output
element vertex 35947
property float x
property float y
property float z
property float confidence
property float intensity
element face 69451
property list uchar int vertex_indices
end_header</code></pre>
<p>读取顶点信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vertex = ply_data[<span class="string">&#x27;vertex&#x27;</span>]</span><br><span class="line">print(vertex)</span><br></pre></td></tr></table></figure>
<p>可以看到输出的是顶点vertex及它的property的信息  </p>
<pre><code># 输出
element vertex 35947
property float x
property float y
property float z
property float confidence
property float intensity</code></pre>
<p>读取面的信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">face = ply_data[<span class="string">&#x27;face&#x27;</span>]</span><br><span class="line">print(face)</span><br></pre></td></tr></table></figure>
<pre><code># 输出
element face 69451
property list uchar int vertex_indices</code></pre>
<p>将三个坐标合在一起并输出</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = np.asarray(vertex[<span class="string">&#x27;x&#x27;</span>])</span><br><span class="line">y = np.asarray(vertex[<span class="string">&#x27;y&#x27;</span>])</span><br><span class="line">z = np.asarray(vertex[<span class="string">&#x27;z&#x27;</span>])</span><br><span class="line">points = np.stack([x, y, z], axis=<span class="number">1</span>)</span><br><span class="line">print(x.shape)</span><br><span class="line">print(points.shape)</span><br></pre></td></tr></table></figure>
<pre><code>#输出
(35947,)
(35947, 3)</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/27/Terminal%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/Terminal%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/" class="post-title-link" itemprop="url">Terminal设置代理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-27 00:00:41" itemprop="dateCreated datePublished" datetime="2020-10-27T00:00:41+08:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-03 16:31:37" itemprop="dateModified" datetime="2020-11-03T16:31:37+08:00">2020-11-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/" itemprop="url" rel="index"><span itemprop="name">软件配置</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="CMD设置代理"><a href="#CMD设置代理" class="headerlink" title="CMD设置代理"></a>CMD设置代理</h2><h3 id="1-打开cmd，在cmd中输入以下命令实现代理。"><a href="#1-打开cmd，在cmd中输入以下命令实现代理。" class="headerlink" title="1. 打开cmd，在cmd中输入以下命令实现代理。"></a>1. 打开cmd，在cmd中输入以下命令实现代理。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set http_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class="line">set https_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:1080</span><br></pre></td></tr></table></figure>
<h3 id="2-如果你的代理服务器要求用户名和密码的话，那么还需要："><a href="#2-如果你的代理服务器要求用户名和密码的话，那么还需要：" class="headerlink" title="2. 如果你的代理服务器要求用户名和密码的话，那么还需要："></a>2. 如果你的代理服务器要求用户名和密码的话，那么还需要：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set http_proxy_user&#x3D;</span><br><span class="line">set http_proxy_pass&#x3D;</span><br></pre></td></tr></table></figure>
<h3 id="3-如果取消cmd代理，则将值设为空重新配置一下就好了，例如："><a href="#3-如果取消cmd代理，则将值设为空重新配置一下就好了，例如：" class="headerlink" title="3. 如果取消cmd代理，则将值设为空重新配置一下就好了，例如："></a>3. 如果取消cmd代理，则将值设为空重新配置一下就好了，例如：</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set http_proxy&#x3D;</span><br><span class="line">set https_proxy&#x3D;</span><br></pre></td></tr></table></figure>
<h2 id="git-bash设置代理"><a href="#git-bash设置代理" class="headerlink" title="git bash设置代理"></a>git bash设置代理</h2><h3 id="1-打开git-bash，输入以下命令"><a href="#1-打开git-bash，输入以下命令" class="headerlink" title="1. 打开git bash，输入以下命令"></a>1. 打开git bash，输入以下命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global https.proxy http:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class="line">git config --global https.proxy https:&#x2F;&#x2F;127.0.0.1:1080</span><br></pre></td></tr></table></figure>
<h3 id="2-取消代理则输入以下命令："><a href="#2-取消代理则输入以下命令：" class="headerlink" title="2. 取消代理则输入以下命令："></a>2. 取消代理则输入以下命令：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.proxy</span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure>
<h3 id="3-也可以设置sock5代理"><a href="#3-也可以设置sock5代理" class="headerlink" title="3. 也可以设置sock5代理"></a>3. 也可以设置sock5代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;</span><br><span class="line">git config --global https.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;</span><br></pre></td></tr></table></figure>
<h3 id="4-另外设置git-bash代理也可以找到git的配置文件，一般在C-Users-XXX-gitconfig"><a href="#4-另外设置git-bash代理也可以找到git的配置文件，一般在C-Users-XXX-gitconfig" class="headerlink" title="4. 另外设置git bash代理也可以找到git的配置文件，一般在C:\Users\XXX\.gitconfig"></a>4. 另外设置git bash代理也可以找到git的配置文件，一般在C:\Users\XXX\.gitconfig</h3><h3 id="5-当git-bash使用网络命令长时间无反应或者返回403或超时等信息，检查一下代理是否设置正确，查看git配置文件或者使用以下代码查看代理："><a href="#5-当git-bash使用网络命令长时间无反应或者返回403或超时等信息，检查一下代理是否设置正确，查看git配置文件或者使用以下代码查看代理：" class="headerlink" title="5. 当git bash使用网络命令长时间无反应或者返回403或超时等信息，检查一下代理是否设置正确，查看git配置文件或者使用以下代码查看代理："></a>5. 当git bash使用网络命令长时间无反应或者返回403或超时等信息，检查一下代理是否设置正确，查看git配置文件或者使用以下代码查看代理：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --get http.proxy </span><br><span class="line">git config --get https.proxy</span><br><span class="line">参考：https:&#x2F;&#x2F;www.cnblogs.com&#x2F;cbugs&#x2F;p&#x2F;12257443.html</span><br></pre></td></tr></table></figure>
<h2 id="npm设置代理"><a href="#npm设置代理" class="headerlink" title="npm设置代理"></a>npm设置代理</h2><h3 id="1-设置npm代理，则在cmd或者git-bash中输入以下命令"><a href="#1-设置npm代理，则在cmd或者git-bash中输入以下命令" class="headerlink" title="1. 设置npm代理，则在cmd或者git bash中输入以下命令"></a>1. 设置npm代理，则在cmd或者git bash中输入以下命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config set proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class="line">npm config set https-proxy http:&#x2F;&#x2F;127.0.0.1:1080</span><br></pre></td></tr></table></figure>
<h3 id="2-更换npm源，换成淘宝源-推荐，关于没换源装东西报错请看这里"><a href="#2-更换npm源，换成淘宝源-推荐，关于没换源装东西报错请看这里" class="headerlink" title="2. 更换npm源，换成淘宝源(推荐，关于没换源装东西报错请看这里)"></a>2. 更换npm源，换成淘宝源(推荐，关于没换源装东西报错请看<a target="_blank" rel="noopener" href="https://www.runoob.com/">这里</a>)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<h3 id="3-npm取消代理"><a href="#3-npm取消代理" class="headerlink" title="3. npm取消代理"></a>3. npm取消代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config delete proxy</span><br><span class="line">npm config delete https-proxy</span><br></pre></td></tr></table></figure>
<h3 id="4-npm设置代理用户名和密码"><a href="#4-npm设置代理用户名和密码" class="headerlink" title="4. npm设置代理用户名和密码"></a>4. npm设置代理用户名和密码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config set proxy http:&#x2F;&#x2F;username:password@server:port</span><br><span class="line">npm confit set https-proxy http:&#x2F;&#x2F;username:password@server:port</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/27/ubuntu%E5%9B%A0%E7%A1%AC%E7%9B%98%E6%8C%82%E8%BD%BD%E8%BF%9B%E5%85%A5Emergency-mode%E7%B4%A7%E6%80%A5%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/ubuntu%E5%9B%A0%E7%A1%AC%E7%9B%98%E6%8C%82%E8%BD%BD%E8%BF%9B%E5%85%A5Emergency-mode%E7%B4%A7%E6%80%A5%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">ubuntu因硬盘挂载进入Emergency_mode紧急模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-27 00:00:04" itemprop="dateCreated datePublished" datetime="2020-10-27T00:00:04+08:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-03 16:31:05" itemprop="dateModified" datetime="2020-11-03T16:31:05+08:00">2020-11-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/" itemprop="url" rel="index"><span itemprop="name">软件配置</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>由于ubuntu系统中加的新硬盘没有配置好，fstab中没写好，然后强制关机了，导致开机没有挂载上新硬盘，于是进入了Emergency mode紧急模式，无法正常启动。</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>在紧急模式下输入回车进入命令行，使用以下命令查看开机日志</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">journalctl -xb</span><br></pre></td></tr></table></figure>
<p>发现Failed mount on XXX的红色报错信息，根据报错信息提示，发现是无法以ext3的形式挂载上新硬盘（图没拍，大家意会一下）</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>修改fstab中的挂载信息。首先查看硬盘的UUID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo blkid</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/blkid.png" alt="blkid"></p>
<h3 id="5-编辑系统挂载配置文件-etc-fstab"><a href="#5-编辑系统挂载配置文件-etc-fstab" class="headerlink" title="5.编辑系统挂载配置文件/etc/fstab"></a>5.编辑系统挂载配置文件/etc/fstab</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit etc&#x2F;fstab</span><br></pre></td></tr></table></figure>
<p>将新硬盘挂载信息从ext3改成ex4，并将/dev/sda改为UUID（一定按图示，第一项使用UUID，不要用/dev/sda这种目录形式，第二项挂载点，第三项ext4，写成ext3我就进不去系统，后面是0 2）<br><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/addfastab.png" alt="addfastab"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/26/ubuntu%E5%8A%A0%E6%96%B0%E7%A1%AC%E7%9B%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/26/ubuntu%E5%8A%A0%E6%96%B0%E7%A1%AC%E7%9B%98/" class="post-title-link" itemprop="url">ubuntu加新硬盘</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-26 23:58:45" itemprop="dateCreated datePublished" datetime="2020-10-26T23:58:45+08:00">2020-10-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-03 16:30:03" itemprop="dateModified" datetime="2020-11-03T16:30:03+08:00">2020-11-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/" itemprop="url" rel="index"><span itemprop="name">软件配置</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ubuntu加装新机械硬盘并配置挂载"><a href="#ubuntu加装新机械硬盘并配置挂载" class="headerlink" title="ubuntu加装新机械硬盘并配置挂载"></a>ubuntu加装新机械硬盘并配置挂载</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>因为最近要用的数据集太大了，所以加了一块2T的机械硬盘，专门用来放这个数据集。</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>将机械硬盘装到电脑上，注意机箱的打开方式…一般硬盘放在侧面，和电源在一个面，需要电源的供电线和传输数据的SATA线。</p>
<h2 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h2><h3 id="1-开机进入ubuntu系统，使用以下命令查看硬盘情况："><a href="#1-开机进入ubuntu系统，使用以下命令查看硬盘情况：" class="headerlink" title="1.开机进入ubuntu系统，使用以下命令查看硬盘情况："></a>1.开机进入ubuntu系统，使用以下命令查看硬盘情况：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo  fdisk  -l</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/fdisk.png" alt="fdisk"></p>
<h3 id="2-可以看到-dev-sda是我们的加的新硬盘，使用以下命令格式化硬盘（一定确定硬盘的目录编号！！！否则格式了系统盘就GG）："><a href="#2-可以看到-dev-sda是我们的加的新硬盘，使用以下命令格式化硬盘（一定确定硬盘的目录编号！！！否则格式了系统盘就GG）：" class="headerlink" title="2.可以看到/dev/sda是我们的加的新硬盘，使用以下命令格式化硬盘（一定确定硬盘的目录编号！！！否则格式了系统盘就GG）："></a>2.可以看到/dev/sda是我们的加的新硬盘，使用以下命令格式化硬盘（一定确定硬盘的目录编号！！！否则格式了系统盘就GG）：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs.ext4  &#x2F;dev&#x2F;sda</span><br></pre></td></tr></table></figure>
<p>或者使用ubuntu已经安装的disk软件进行图形化界面操作（推荐用命令）</p>
<h3 id="3-我的硬盘是直接在-media-datadisk有了挂载点，没有的话就自己创建挂载点"><a href="#3-我的硬盘是直接在-media-datadisk有了挂载点，没有的话就自己创建挂载点" class="headerlink" title="3.我的硬盘是直接在/media/datadisk有了挂载点，没有的话就自己创建挂载点"></a>3.我的硬盘是直接在/media/datadisk有了挂载点，没有的话就自己创建挂载点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir &#x2F;home&#x2F;sda1 #示例用，后续代码不用此挂载点</span><br></pre></td></tr></table></figure>
<h3 id="4-查看硬盘的UUID"><a href="#4-查看硬盘的UUID" class="headerlink" title="4.查看硬盘的UUID"></a>4.查看硬盘的UUID</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo blkid</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/blkid.png" alt="blkid"></p>
<h3 id="5-编辑系统挂载配置文件-etc-fstab"><a href="#5-编辑系统挂载配置文件-etc-fstab" class="headerlink" title="5.编辑系统挂载配置文件/etc/fstab"></a>5.编辑系统挂载配置文件/etc/fstab</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit etc&#x2F;fstab</span><br></pre></td></tr></table></figure>
<p>添加新的挂载项，这样开机就挂载了（一定按图示，第一项使用UUID，不要用/dev/sda这种目录形式，第二项挂载点，第三项ext4，写成ext3我就进不去系统，后面是0 2）<br><img src="https://raw.githubusercontent.com/Marshzero/PicBed/master/images/addfastab.png" alt="addfastab"></p>
<h3 id="6-修改硬盘权限"><a href="#6-修改硬盘权限" class="headerlink" title="6.修改硬盘权限"></a>6.修改硬盘权限</h3><p>其中lab是用户，777是完全权限，这一步骤是可以让非root用户对新硬盘有操作权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R lab &#x2F;media&#x2F;datadisk</span><br><span class="line">sudo chmod -R 777 &#x2F;media&#x2F;datadisk</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/26/Ubuntu18-04%E5%8F%8C%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%89%E8%A3%85%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/26/Ubuntu18-04%E5%8F%8C%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%89%E8%A3%85%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B/" class="post-title-link" itemprop="url">Ubuntu18.04双系统安装与安装后要做的事</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-26 23:57:15" itemprop="dateCreated datePublished" datetime="2020-10-26T23:57:15+08:00">2020-10-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-03 16:31:19" itemprop="dateModified" datetime="2020-11-03T16:31:19+08:00">2020-11-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/" itemprop="url" rel="index"><span itemprop="name">软件配置</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Ubuntu18-04双系统安装及遇到的坑"><a href="#Ubuntu18-04双系统安装及遇到的坑" class="headerlink" title="Ubuntu18.04双系统安装及遇到的坑"></a>Ubuntu18.04双系统安装及遇到的坑</h2><h4 id="一、制作U盘安装盘"><a href="#一、制作U盘安装盘" class="headerlink" title="一、制作U盘安装盘"></a>一、制作U盘安装盘</h4><p>网上的教程大多是使用UltraISO(软碟通)来将iso镜像写入U盘。我的软碟通在写入时提示“设备忙”，于是尝试了网上的解决方法：关闭管家、插拔U盘、避免iso文件在U盘内存储，还是提示“设备忙”，于是转用rufus来制作安装盘，完成。<br>我的笔记本主板是uefi启动，C盘128G SSD，D盘1T HDD。我把D盘分出200G的空闲空间安装ubuntu18.04，使用刻录好的U盘启动，安装时选择D盘分出的空闲200G空间。分区把200G分为192G（主分区，挂载”/“）和8G（逻辑分区，交换空间，我的电脑内存8G），这样分区适用于linux新手，可以避免ubuntu的boot分区后续空间不足的尴尬。<br>安装完成后在我的bios界面就会有两个启动项：win10和ubuntu。ubuntu的启动界面也可以进入win10</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/59d5cfe62531">Ubuntu U盘启动工具Rufus制作(详细步骤)
</a></p>
</blockquote>
<h4 id="二、安装好Ubuntu后要做的事"><a href="#二、安装好Ubuntu后要做的事" class="headerlink" title="二、安装好Ubuntu后要做的事"></a>二、安装好Ubuntu后要做的事</h4><h5 id="1-先删几个软件"><a href="#1-先删几个软件" class="headerlink" title="1.先删几个软件"></a>1.先删几个软件</h5><h6 id="删除libreoffice"><a href="#删除libreoffice" class="headerlink" title="删除libreoffice"></a>删除libreoffice</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove libreoffice-common  </span><br></pre></td></tr></table></figure>
<h6 id="删除Amazon的链接"><a href="#删除Amazon的链接" class="headerlink" title="删除Amazon的链接"></a>删除Amazon的链接</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove unity-webapps-common  </span><br></pre></td></tr></table></figure>
<h6 id="删掉基本不用的自带软件（用的时候再装也来得及）"><a href="#删掉基本不用的自带软件（用的时候再装也来得及）" class="headerlink" title="删掉基本不用的自带软件（用的时候再装也来得及）"></a>删掉基本不用的自带软件（用的时候再装也来得及）</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove thunderbird totem rhythmbox empathy brasero simple-scan gnome-mahjongg aisleriot gnome-mines cheese transmission-common gnome-orca webbrowser-app gnome-sudoku  landscape-client-ui-install  </span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove onboard deja-dup  </span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36498339/article/details/78642033">安装Ubuntu 16.04后要做的事
</a></p>
</blockquote>
<h5 id="2-更换源"><a href="#2-更换源" class="headerlink" title="2.更换源"></a>2.更换源</h5><p>更换源这次我发现了一个新的方法，就是在软件更新中选择最佳服务器，我的是中科大的源，软件更新自己就把源更换了，很nice。<br>老方法就是手动更改源：<br>先备份sources.list</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</span><br></pre></td></tr></table></figure>
<p>然后将sources.list中的源更换成国内源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>
<p>随便选以下一种源就行了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#阿里源</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">##中科大源</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">163源</span><br><span class="line">##163源</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">清华源</span><br><span class="line">##清华源</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure>
<p>换完了系统更新一下，第二个命令可能会很慢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>

<h4 id="三、换成N卡驱动"><a href="#三、换成N卡驱动" class="headerlink" title="三、换成N卡驱动"></a>三、换成N卡驱动</h4><p>我的笔记本是MX150，在软件更新中点击附加驱动，选择383的专有驱动应用更改（忘了版本了），然后会让你输入一个密码，这个在后面开机时会用到，而且在开机时好像电脑的security boot要关掉。<br>下载好驱动，应用更改好了，重启电脑，会出现一个蓝色背景的界面 perform mok management<br>正确的做法如下： </p>
<ol>
<li>当进入蓝色背景的界面perform mok management 后，选择 enroll mok , </li>
<li>进入enroll mok 界面，选择 continue , </li>
<li>进入enroll the key 界面，选择 yes , </li>
<li>接下来输入你在安装驱动时输入的密码， </li>
<li>之后会跳到蓝色背景的界面perform mok management 选择第一个 reboot<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bush_nj/article/details/80850937">配有 Nvidia 显卡的笔记本安装 ubuntu18.04 所遇到的问题与解决
</a></p>
</blockquote>
</li>
</ol>
<h4 id="四、美化"><a href="#四、美化" class="headerlink" title="四、美化"></a>四、美化</h4><h5 id="1-安装Gnome-tweak-tool"><a href="#1-安装Gnome-tweak-tool" class="headerlink" title="1.安装Gnome-tweak-tool"></a>1.安装Gnome-tweak-tool</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-tweak-tool</span><br><span class="line">sudo apt-get install gnome-shell-extensions</span><br></pre></td></tr></table></figure>
<p>安装的软件名为“优化”，打开“优化”在扩展选项卡中开启</p>
<ul>
<li>Dash to dock：可以对Dock栏进行自定义</li>
<li>User Theme：使shell主题（即顶部菜单栏）使用桌面主题</li>
<li>Blyr：使Overview有模糊背景效果</li>
<li>Coverflow Alt-Tab：应用程序切换效果，类似Mac OS X</li>
<li>NetSpeed：推荐，显示网速</li>
<li>TopIcons Plus：推荐，后台程序显示在托盘（使deepin-wine的程序显示在托盘，必装）</li>
</ul>
<h5 id="2-安装vimix主题和图标"><a href="#2-安装vimix主题和图标" class="headerlink" title="2.安装vimix主题和图标"></a>2.安装vimix主题和图标</h5><p>Github链接：<a target="_blank" rel="noopener" href="https://github.com/vinceliuice/vimix-gtk-themes">vimix桌面主题</a>和<a target="_blank" rel="noopener" href="https://github.com/vinceliuice/vimix-icon-theme">vimix图标</a>。进入Github下载文件，主题解压到/usr/share/themes目录下，图标解压到/usr/share/icons目录下。在终端中分别执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo .&#x2F;Vimix-installer</span><br><span class="line">&#x2F;&#x2F;即执行下图所示脚本，用来安装vimix的一组主题，根据提示完成安装即可</span><br><span class="line">sudo .&#x2F;Installer.sh</span><br><span class="line">&#x2F;&#x2F;同上安装主题</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_28869927/article/details/80917997">【Linux】Ubuntu 18.04桌面美化</a></p>
</blockquote>
<h5 id="3-点击图标最小化"><a href="#3-点击图标最小化" class="headerlink" title="3.点击图标最小化"></a>3.点击图标最小化</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gsettings set org.gnome.shell.extensions.dash-to-dock click-action &#39;minimize&#39;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/4bd2d9b1af41">不美翻怎么开发!Ubuntu 16.04 LTS深度美化!(2017年度定稿版)
</a></p>
</blockquote>
<h4 id="五、安装常用软件"><a href="#五、安装常用软件" class="headerlink" title="五、安装常用软件"></a>五、安装常用软件</h4><h5 id="1-安装shadowsocks-qt5"><a href="#1-安装shadowsocks-qt5" class="headerlink" title="1.安装shadowsocks-qt5"></a>1.安装shadowsocks-qt5</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:hzwhuang&#x2F;ss-qt5</span><br></pre></td></tr></table></figure>
<p>加入这个源后安装会报错，因为这个源没有18.04的源，修改文件中的版本即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;hzwhuang-ubuntu-ss-qt5-bionic.list</span><br><span class="line">sudo vim hzwhuang-ubuntu-ss-qt5-bionic.list</span><br></pre></td></tr></table></figure>
<p>将文件修改为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;ppa.launchpad.net&#x2F;hzwhuang&#x2F;ss-qt5&#x2F;ubuntu xenial main</span><br><span class="line"># deb-src http:&#x2F;&#x2F;ppa.launchpad.net&#x2F;hzwhuang&#x2F;ss-qt5&#x2F;ubuntu bionic main</span><br></pre></td></tr></table></figure>
<p>然后安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install shadowsocks-qt5</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a912952381/article/details/81172971">Ubuntu18.04 安装ss-qt5 缺少依赖文件</a></p>
</blockquote>
<h5 id="2-安装wps"><a href="#2-安装wps" class="headerlink" title="2.安装wps"></a>2.安装wps</h5><p>在wps官网下载linux的deb安装包，下载依赖<a target="_blank" rel="noopener" href="http://kr.archive.ubuntu.com/ubuntu/pool/main/libp/libpng/libpng12-0_1.2.54-1ubuntu1_amd64.deb">libpng12-0</a><br>安装libpng12-0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i libpng12-0*.deb</span><br></pre></td></tr></table></figure>
<p>安装wps</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i wps*.deb</span><br></pre></td></tr></table></figure>
<p>若出现错误，或者没有安装成功，使用如下命令修复</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -f</span><br></pre></td></tr></table></figure>
<p>至此，wps已经安装成功。但是由于Linux版权原因，WPS缺少字体，故我们要安装WPS所需要的字体。首先下载<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1QJbyRDP7yu7F3pryKgdrYQ">WPS字体</a>，然后解压。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;WPS-Fonts       #新建wps字体存储文件夹</span><br><span class="line">cd ~&#x2F;Downloads     #进入下载好的字体目录</span><br><span class="line">sudo apt-get install unzip  #安装zip解压软件</span><br><span class="line">sudo unzip wps_symbol_fonts.zip -d &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;WPS-Fonts&#x2F;  #解压字体到指定文件夹</span><br><span class="line">sudo mkfontscale    #生成字体索引</span><br><span class="line">sudo mkfontdir      #生成字体索引</span><br><span class="line">sudo fc-cache       #更新字体缓存</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hymanjack/article/details/80285400">Ubuntu18.04 安装后应该做的事（更新中）
</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/tydyz/article/details/74991048">Linux for Ubuntu 解决WPS安装缺少libpng12-0的问题</a></p>
</blockquote>
<h5 id="3-安装截图软件Shutter"><a href="#3-安装截图软件Shutter" class="headerlink" title="3.安装截图软件Shutter"></a>3.安装截图软件Shutter</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install shutter    #安装shutter</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hymanjack/article/details/80285400">编辑按钮变灰色</a></p>
<h5 id="4-安装google-chrome"><a href="#4-安装google-chrome" class="headerlink" title="4.安装google chrome"></a>4.安装google chrome</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget -q -O - https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;longhr&#x2F;ubuntu1604hub&#x2F;master&#x2F;linux_signing_key.pub | sudo apt-key add</span><br><span class="line">sudo sh -c &#39;echo &quot;deb [ arch&#x3D;amd64 ] http:&#x2F;&#x2F;dl.google.com&#x2F;linux&#x2F;chrome&#x2F;deb&#x2F; stable main&quot; &gt;&gt; &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;google-chrome.list&#39;</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install google-chrome-stable</span><br></pre></td></tr></table></figure>

<h5 id="5-安装搜狗输入法"><a href="#5-安装搜狗输入法" class="headerlink" title="5.安装搜狗输入法"></a>5.安装搜狗输入法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install fcitx-bin      #安装fcitx-bin</span><br><span class="line">sudo apt-get update --fix-missing   #修复fcitx-bin安装失败的情况</span><br><span class="line">sudo apt-get install fcitx-bin      #重新安装fcitx-bin</span><br><span class="line">sudo apt-get install fcitx-table    #安装fcitx-table</span><br></pre></td></tr></table></figure>
<p>在sougou拼音官网下载deb包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i sogoupinyin*.deb       #安装搜狗拼音</span><br><span class="line">sudo apt-get install -f             #修复搜狗拼音安装的错误</span><br><span class="line">sudo dpkg -i sogoupinyin*.deb       #重新安装搜狗拼音</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hymanjack/article/details/80285400">Ubuntu18.04 安装后应该做的事（更新中）</a></p>
</blockquote>
<h5 id="6-安装网易云音乐"><a href="#6-安装网易云音乐" class="headerlink" title="6.安装网易云音乐"></a>6.安装网易云音乐</h5><p>在官网下载deb包，安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i netease-cloud-music*.deb</span><br></pre></td></tr></table></figure>

<h5 id="7-安装QQ、微信、迅雷、百度网盘"><a href="#7-安装QQ、微信、迅雷、百度网盘" class="headerlink" title="7.安装QQ、微信、迅雷、百度网盘"></a>7.安装QQ、微信、迅雷、百度网盘</h5><p><a target="_blank" rel="noopener" href="https://github.com/wszqkzqk/deepin-wine-ubuntu">Deepin wine for Ubuntu</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/26/%E5%A4%8D%E4%B9%A0%E7%94%A8%E6%80%BB%E7%BB%93%EF%BC%9AC%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1-%E9%BB%84%E8%BF%AA%E6%98%8E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang Zeyu">
      <meta itemprop="description" content="打工人，打工魂，打工都是人上人!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yzy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/26/%E5%A4%8D%E4%B9%A0%E7%94%A8%E6%80%BB%E7%BB%93%EF%BC%9AC%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1-%E9%BB%84%E8%BF%AA%E6%98%8E/" class="post-title-link" itemprop="url">复习用总结：C语言程序设计(黄迪明)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-26 10:48:00" itemprop="dateCreated datePublished" datetime="2020-10-26T10:48:00+08:00">2020-10-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-21 16:13:57" itemprop="dateModified" datetime="2020-11-21T16:13:57+08:00">2020-11-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="C语言程序设计-黄迪明"><a href="#C语言程序设计-黄迪明" class="headerlink" title="C语言程序设计(黄迪明)"></a>C语言程序设计(黄迪明)</h2><h3 id="第一章-C语言程序设计基础知识"><a href="#第一章-C语言程序设计基础知识" class="headerlink" title="第一章 C语言程序设计基础知识"></a>第一章 C语言程序设计基础知识</h3><h4 id="例题及习题"><a href="#例题及习题" class="headerlink" title="例题及习题"></a>例题及习题</h4><h5 id="1-1-C语言具有哪些特点"><a href="#1-1-C语言具有哪些特点" class="headerlink" title="1.1 C语言具有哪些特点"></a>1.1 C语言具有哪些特点</h5><p>答：1.C语言是一种兼有高级语言和汇编语言优点的语言；2.C语言是一种结构化程序设计语言；3.语言数据类型丰富；4.C语言具有种类丰富的运算符；5.C语言具有预处理功能。、</p>
<h5 id="1-4-C语言开发步骤"><a href="#1-4-C语言开发步骤" class="headerlink" title="1.4 C语言开发步骤"></a>1.4 C语言开发步骤</h5><p>答：C程序的运行一般要经过四个步骤。即源程序的编辑、源程序的编译、目标程序的链接和可执行程序的运行。</p>
<h5 id="1-7-one-这个标识符是错的，因为-不能作为标识符"><a href="#1-7-one-这个标识符是错的，因为-不能作为标识符" class="headerlink" title="1.7 one_$ 这个标识符是错的，因为$不能作为标识符"></a>1.7 one_$ 这个标识符是错的，因为$不能作为标识符</h5><h3 id="第二章-基本数据类型及运算"><a href="#第二章-基本数据类型及运算" class="headerlink" title="第二章 基本数据类型及运算"></a>第二章 基本数据类型及运算</h3><h4 id="一、变量存储"><a href="#一、变量存储" class="headerlink" title="一、变量存储"></a>一、变量存储</h4><h5 id="1-常量的存储"><a href="#1-常量的存储" class="headerlink" title="1.常量的存储"></a>1.常量的存储</h5><p>内存中安排常量数据存储区，按照常量在程序中的出现顺序（重复出现的常量，仅仅存放一次），以此存放哥哥常量（二进制机器数形式）；不允许改变常量数据存储区的内容，即只能使用常量，而不能够改变常量的（值）。</p>
<h5 id="2-变量的存储"><a href="#2-变量的存储" class="headerlink" title="2.变量的存储"></a>2.变量的存储</h5><p>在Turbo C 2.0环境中，int型量占用两个字节的内存单元，float型量占用4个字节的内存单元，char型量占用1个字节的内存单元。<br>内存中（按照函数的调用吮吸动态地）安排变量数据存储区，按照变量在程序中的出现顺序，依次存放各个变量；允许改变变量数据存储区的内容；既可以使用变量，也能够改变变量（的值）。</p>
<h4 id="二、运算符"><a href="#二、运算符" class="headerlink" title="二、运算符"></a>二、运算符</h4><h5 id="1-未定义操作，例："><a href="#1-未定义操作，例：" class="headerlink" title="1.未定义操作，例："></a>1.未定义操作，例：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(a++)+(a++)+(a++) &#x2F;&#x2F;不同编译器运行的结果是不一样的 Turbo C为 表达式&#x3D;18 a&#x3D;9</span><br></pre></td></tr></table></figure>
<h5 id="2-逻辑表达式"><a href="#2-逻辑表达式" class="headerlink" title="2.逻辑表达式"></a>2.逻辑表达式</h5><p>在逻辑表达式的求解中，并不是所有的逻辑运算符都被执行，只有在必须执行下一个逻辑运算符才能求解出表达式的解时，才执行该运算符。即只要得到了结果，求值的过程就停止：短路求值。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; 1,b &#x3D; 0,c &#x3D; -2;</span><br><span class="line">a &amp;&amp; b &amp;&amp; c; &#x2F;&#x2F;只有a为真时，才需要判别b的值，只有a和b都为真的情况下才需要判别c的值</span><br><span class="line">(a++) || ++b &amp;&amp; c; &#x2F;&#x2F;不需要计算后面的语句，运算结束时a为2，b、c的值保持原值不变</span><br></pre></td></tr></table></figure>
<h5 id="3-位运算"><a href="#3-位运算" class="headerlink" title="3.位运算"></a>3.位运算</h5><p>位运算符：&amp;（按位与）、|（按位或）、~（按位取反）、^（按位异或）<br>!注意：如果两个长度不同的数据（假如long和int）进行位运算（i&amp;j）时，系统会将二者按右端补齐，如果j为正数，则左侧16位补满0；如果j为负数，则左侧16位补满1；如果j为无符号整数，则左侧16位也补满0。</p>
<p>移位运算符：整型变量&lt;&lt;表达式 或 整型变量&gt;&gt;表达式<br>左移：右边空出的位补0，左边溢出的位丢弃<br>右移：无符号数，则左边空出来的填充0；正数时，左侧用0填充；负数时，可能补1也可能补0，看编译系统。</p>
<h4 id="三、类型转换"><a href="#三、类型转换" class="headerlink" title="三、类型转换"></a>三、类型转换</h4><h5 id="1-隐式转换（自动类型转换）"><a href="#1-隐式转换（自动类型转换）" class="headerlink" title="1.隐式转换（自动类型转换）"></a>1.隐式转换（自动类型转换）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">double  &lt;--  float</span><br><span class="line">  ^</span><br><span class="line">  |</span><br><span class="line">long</span><br><span class="line">  ^</span><br><span class="line">  |</span><br><span class="line">unsigned</span><br><span class="line">  ^</span><br><span class="line">  |</span><br><span class="line"> int  &lt;--  char,short</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>隐式转换（自动类型转换）只针对某个运算符两个操作数，不能对表达式的所有运算符做一次性的自动类型转换，例如表达式6/4+6.7的计算结果是7.7，而表达式6.0/4+6.7的计算结果是8.2</strong><h5 id="2-显式转换（强制类型转换）"><a href="#2-显式转换（强制类型转换）" class="headerlink" title="2.显式转换（强制类型转换）"></a>2.显式转换（强制类型转换）</h5>转换时生成一个中间变量，不改变变量本身的类型和值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;double 转 float</span><br><span class="line">float y;</span><br><span class="line">double x&#x3D;234.5634589e100;</span><br><span class="line">y&#x3D;x;  &#x2F;&#x2F;截取double前7位有效数字</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;float 转 double 数值不变，位扩展到16位</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;字符型数据 转 整形变量：低8位不变，高8位系统可能全补0，可能全补1，看编译系统</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;int short long 转 char ：低八位不动，高的丢弃</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;int 转 long ：若int为正，高16位补0；若为负，高16位补1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;long 转 int ：long的低16位保留</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;有符号 转 无符号：直接转，比如int j&#x3D;-1,j转到unsigned就是65535</span><br><span class="line">&#x2F;&#x2F;-1的补码为11111111,所以转过去按无符号计算，即65535</span><br></pre></td></tr></table></figure>
<h4 id="四、输入输出"><a href="#四、输入输出" class="headerlink" title="四、输入输出"></a>四、输入输出</h4><h5 id="“-d”-5-等价于-“-5d”"><a href="#“-d”-5-等价于-“-5d”" class="headerlink" title="(“%*d”,5) 等价于 (“%5d”)"></a>(“%*d”,5) 等价于 (“%5d”)</h5><h4 id="五、例题及习题"><a href="#五、例题及习题" class="headerlink" title="五、例题及习题"></a>五、例题及习题</h4><h5 id="2-2"><a href="#2-2" class="headerlink" title="2.2"></a>2.2</h5>C语言为什么要规定对所有用到的变量“先定义后使用”？这样做的好处<br>答：原因是：1.编译系统会根据定义为变量分配内存空间，分配空间的大小与数据类型有关；2.系统可以根据变量的类型检查对该变量的运算是否合法，这样就程序猿调试程序带来方便。<h5 id="2-4"><a href="#2-4" class="headerlink" title="2.4"></a>2.4</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;ABC\n\\TH\064\?&quot; &#x2F;&#x2F;这个字符串常量长度为9，占用10空间</span><br><span class="line">&#x2F;&#x2F; \n是换行符  \\为一个\  \064为八进制转义，是ASCII里的&#39;4&#39;  \?表示?</span><br></pre></td></tr></table></figure>
<h5 id="2-6"><a href="#2-6" class="headerlink" title="2.6"></a>2.6</h5>负数取余：a，b为负数，a%b<br>在这本书上暂认为 运算先用绝对值取余，然后若a有负号，则结果加上负号</li>
</ul>
<h3 id="第三章-控制语句"><a href="#第三章-控制语句" class="headerlink" title="第三章 控制语句"></a>第三章 控制语句</h3><h4 id="一、控制结构-伪代码形式"><a href="#一、控制结构-伪代码形式" class="headerlink" title="一、控制结构(伪代码形式)"></a>一、控制结构(伪代码形式)</h4><h5 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if(B) S1 else S2</span><br><span class="line"></span><br><span class="line">控制结构：</span><br><span class="line">if B goto B.true (条件转移指令)</span><br><span class="line">goto B.false (无条件转移指令)</span><br><span class="line">B.true: (S1的代码)</span><br><span class="line">        ...</span><br><span class="line">        goto S.next</span><br><span class="line">B.false: (S2的代码)</span><br><span class="line">         ...</span><br><span class="line">S.next</span><br></pre></td></tr></table></figure>
<h5 id="for循环语句"><a href="#for循环语句" class="headerlink" title="for循环语句"></a>for循环语句</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">for (i&#x3D;1;i&lt;&#x3D;N;i++)</span><br><span class="line">    S</span><br><span class="line">    </span><br><span class="line">控制结构：</span><br><span class="line">    i:&#x3D;1</span><br><span class="line">again:if i&lt;&#x3D;N</span><br><span class="line">      &#123;</span><br><span class="line">          (S的代码)</span><br><span class="line">          ...</span><br><span class="line">          i:&#x3D;i+1;</span><br><span class="line">          goto again;</span><br><span class="line">      &#125;</span><br><span class="line">S.next:</span><br></pre></td></tr></table></figure>
<h5 id="while循环语句"><a href="#while循环语句" class="headerlink" title="while循环语句"></a>while循环语句</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">while(B) S</span><br><span class="line"></span><br><span class="line">控制结构：</span><br><span class="line">Loop:if B goto B.true</span><br><span class="line">    goto S.next</span><br><span class="line">B.true:(S的代码)</span><br><span class="line">    ...</span><br><span class="line">    goto Loop;</span><br><span class="line">S.next:</span><br></pre></td></tr></table></figure>
<h4 id="二、例题及习题"><a href="#二、例题及习题" class="headerlink" title="二、例题及习题"></a>二、例题及习题</h4><h5 id="例3-12"><a href="#例3-12" class="headerlink" title="例3-12"></a>例3-12</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">&#x2F;*</span><br><span class="line">	例3-12 </span><br><span class="line">	输入一串字符，以句号.作为输入结束标志，显示其中字母和数字的个数 </span><br><span class="line">*&#x2F;</span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	char ch;</span><br><span class="line">	int ch_num,dig_num;</span><br><span class="line">	ch_num &#x3D; dig_num &#x3D; 0;</span><br><span class="line">	do&#123;</span><br><span class="line">		scanf(&quot;%c&quot;,&amp;ch);</span><br><span class="line">		if ((ch&gt;&#x3D;&#39;A&#39;) &amp;&amp; (ch&lt;&#x3D;&#39;Z&#39;) || (ch&gt;&#x3D;&#39;a&#39;)&amp;&amp;(ch&lt;&#x3D;&#39;z&#39;))</span><br><span class="line">		&#123;</span><br><span class="line">			ch_num++;</span><br><span class="line">		&#125;</span><br><span class="line">		else if((ch&gt;&#x3D;&#39;0&#39;)&amp;&amp;(ch&lt;&#x3D;&#39;9&#39;))</span><br><span class="line">		&#123;</span><br><span class="line">			dig_num++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;while(ch!&#x3D;&#39;.&#39;);</span><br><span class="line">	printf(&quot;The number of char is %d\n&quot;,ch_num);</span><br><span class="line">	printf(&quot;The number of digital is %d\n&quot;,dig_num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="例3-13"><a href="#例3-13" class="headerlink" title="例3-13"></a>例3-13</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">&#x2F;*</span><br><span class="line">	例3-13 </span><br><span class="line">	输入num和k，求num的十六进制的从右往左数第k位 </span><br><span class="line">*&#x2F;</span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	int i &#x3D; 0,m,num,k,x;</span><br><span class="line">	char ch;</span><br><span class="line">	scanf(&quot;%d %d&quot;,&amp;num,&amp;k);</span><br><span class="line">	m &#x3D; num;</span><br><span class="line">	do&#123;</span><br><span class="line">		x &#x3D; num % 16;</span><br><span class="line">		num &#x2F;&#x3D; 16;</span><br><span class="line">		i++;</span><br><span class="line">	&#125;while((num !&#x3D; 0) &amp;&amp; (i&lt;k)); &#x2F;&#x2F;记得判断num!&#x3D;0 </span><br><span class="line">	x&#x3D;i&lt;k?0:x; &#x2F;&#x2F;判断k是不是太大了</span><br><span class="line">	ch &#x3D; x&lt;9?x+&#39;0&#39;:x-10+&#39;a&#39;; </span><br><span class="line">	printf(&quot;0x%04x的第%d位是%c\n&quot;,m,k,ch);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="习题3-7"><a href="#习题3-7" class="headerlink" title="习题3.7"></a>习题3.7</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	float n&#x3D;0,temp&#x3D;0; &#x2F;&#x2F;这里用double需要把后面的%f换为%lf </span><br><span class="line">	char ch;</span><br><span class="line">	</span><br><span class="line">	printf(&quot;请输入表达式:&quot;);</span><br><span class="line">	scanf(&quot;%f&quot;,&amp;n);</span><br><span class="line">	ch &#x3D; getchar();</span><br><span class="line">	</span><br><span class="line">	while (ch !&#x3D; &#39;;&#39;)</span><br><span class="line">	&#123;</span><br><span class="line">		scanf(&quot;%f&quot;,&amp;temp);</span><br><span class="line">		switch(ch)</span><br><span class="line">		&#123;</span><br><span class="line">			case &#39;+&#39;:n &#x3D; n + temp;break;</span><br><span class="line">			case &#39;-&#39;:n &#x3D; n - temp;break;</span><br><span class="line">		&#125; </span><br><span class="line">		ch &#x3D; getchar();</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;sum&#x3D;%f&quot;,n);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="习题3-18"><a href="#习题3-18" class="headerlink" title="习题3.18"></a>习题3.18</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	int i,j,flag &#x3D; 1;</span><br><span class="line">	scanf(&quot;%d %d&quot;,&amp;i,&amp;j);</span><br><span class="line">	flag &#x3D; flag&lt;&lt;j;</span><br><span class="line">	if(flag&amp;i)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%d的第%d位是1\n&quot;,i,j);</span><br><span class="line">	&#125;</span><br><span class="line">	else&#123;</span><br><span class="line">		printf(&quot;%d的第%d位是0\n&quot;,i,j);</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="第四章-数组和结构"><a href="#第四章-数组和结构" class="headerlink" title="第四章 数组和结构"></a>第四章 数组和结构</h3><h4 id="一、数组"><a href="#一、数组" class="headerlink" title="一、数组"></a>一、数组</h4><h5 id="1-数组越界检查"><a href="#1-数组越界检查" class="headerlink" title="1.数组越界检查"></a>1.数组越界检查</h5><p>C语言不进行下标越界的检查（因为浪费了CPU执行程序的时间）。如果下标是负数或下标超过数组长度，系统仍然作为正确的下标对待。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int a,b;</span><br><span class="line">int arr[10];</span><br><span class="line">int c,d;</span><br></pre></td></tr></table></figure>
<p>则下标变量 arr[-1]和arr[11]分别代表了变量b和d。<br>我通过Cfree尝试后，发现情况不是像书上所写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">代码：</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	int a,b;</span><br><span class="line">	int arr[10];</span><br><span class="line">	int c,d;</span><br><span class="line">	printf(&quot;%x %x\n&quot;,&amp;a,&amp;b);</span><br><span class="line">	printf(&quot;%x %x\n&quot;,&amp;arr[0],&amp;arr[9]);</span><br><span class="line">	printf(&quot;%x %x\n&quot;,&amp;c,&amp;d);</span><br><span class="line">	printf(&quot;%x %x\n&quot;,&amp;arr[-1],&amp;arr[10]);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line">60ff2c 60ff28</span><br><span class="line">60fef0 60ff14</span><br><span class="line">60feec 60fee8</span><br><span class="line">60feec 60ff18</span><br></pre></td></tr></table></figure>
<p>可以发现从a到b，地址变小了4。而数组arr的首地址比尾地址小，因此推断数组是从尾部到首部，即0x60ff14-0x60fef0对应arr[9]-arr[0]。c的地址刚好是arr[-1]，而b的地址和arr[10]相差16，不清楚中间的内存分配给了谁。</p>
<h5 id="2-数组赋初值"><a href="#2-数组赋初值" class="headerlink" title="2.数组赋初值"></a>2.数组赋初值</h5><ul>
<li>对部分元素赋初值，当初值个数少于数组元素的个数时，C语言将会自动对后面的元素赋初值0。</li>
<li>当所赋初值的个数与数组长度相等时，可以省略数组的大小，如：int score[] = {78,89,98};  </li>
<li>二维数组在赋初值时可以省略第一维的长度，但不能省略第二维的长度。</li>
</ul>
<h5 id="3-字符数组"><a href="#3-字符数组" class="headerlink" title="3.字符数组"></a>3.字符数组</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">char word1[4] &#x3D; &#123;&#39;t&#39;,&#39;r&#39;,&#39;e&#39;,&#39;e&#39;&#125;; &#x2F;&#x2F;用字符为字符数组赋初值，没有&#39;\0&#39;</span><br><span class="line">char word2[5] &#x3D; &quot;tree&quot;; &#x2F;&#x2F;自动补一个&#39;\0&#39;</span><br><span class="line">char word3[10] &#x3D; &quot;tree&quot;; &#x2F;&#x2F;多余的元素全部补&#39;\0&#39;</span><br><span class="line">char word4[] &#x3D; &quot;tree&quot; &#x2F;&#x2F;自动补上数组的长度，为5</span><br></pre></td></tr></table></figure>

<h5 id="4-字符串有关的函数"><a href="#4-字符串有关的函数" class="headerlink" title="4.字符串有关的函数"></a>4.字符串有关的函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">char word1[10] &#x3D; &quot;tree&quot;;</span><br><span class="line">printf(&quot;%d&quot;,strlen(word1)); &#x2F;&#x2F;输出4，tree所占5，总空间占10</span><br><span class="line">char word2[10] &#x3D; &quot;chengdu&quot;;</span><br><span class="line">strcpy(word1,word2); &#x2F;&#x2F;将word2复制到word1中，word1的长度要大于word2的长度</span><br><span class="line">strcat(word1,word2) &#x2F;&#x2F;将word1中的&#39;\0&#39;去掉，将word2的字符串接在word1最后一个字符后面，需要word1足够大</span><br><span class="line">&#x2F;* 两个字符串按照字符从左到右比较，根据ASCII码大小，直到第一个不相等的字符的比较结果。</span><br><span class="line">相等返回1，大于返回正整数，小于返回负整数 *&#x2F;</span><br><span class="line">strcmp(word1,word2); </span><br></pre></td></tr></table></figure>

<h5 id="5-字符串输入输出"><a href="#5-字符串输入输出" class="headerlink" title="5.字符串输入输出"></a>5.字符串输入输出</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">char ch,word1[10];</span><br><span class="line">scanf(&quot;%s&quot;,word1); &#x2F;&#x2F;从第一个非空白字符，到第一个空白字符，最后加上&#39;\0&#39;</span><br><span class="line">ch &#x3D; getchar(); &#x2F;&#x2F;ch会存储最后的换行符</span><br><span class="line"></span><br><span class="line">char ch,word2[10];</span><br><span class="line">gets(word2); &#x2F;&#x2F;word2由换行符以前所有字符组成，并自动为word2加上&#39;\0&#39;</span><br><span class="line">ch &#x3D; getchar(); &#x2F;&#x2F;ch不会得到任何输入信息，等待用户输入</span><br><span class="line"></span><br><span class="line">char word3[10]; &#x2F;&#x2F;假如在后面输入“abcd def&quot;</span><br><span class="line">gets(word3); &#x2F;&#x2F;word2中是abcd def</span><br><span class="line">scanf(&quot;%s&quot;,word3); &#x2F;&#x2F;word2中是abcd</span><br></pre></td></tr></table></figure>
<h4 id="二、编程题"><a href="#二、编程题" class="headerlink" title="二、编程题"></a>二、编程题</h4><h5 id="1-常见排序总结"><a href="#1-常见排序总结" class="headerlink" title="1.常见排序总结"></a>1.常见排序总结</h5><p>选择排序 4.3</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>选择排序（打擂台）谭浩强课后题 p168 2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>冒泡排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>快速排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-常见查找总结"><a href="#2-常见查找总结" class="headerlink" title="2.常见查找总结"></a>2.常见查找总结</h5><h5 id="3-例题及课后题"><a href="#3-例题及课后题" class="headerlink" title="3.例题及课后题"></a>3.例题及课后题</h5><p>4.2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#define Max 1000</span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	int lamp[Max+1]&#x3D;&#123;0&#125;; &#x2F;&#x2F;初始化所有灯，0为关闭，1为打开</span><br><span class="line">	int n;</span><br><span class="line">	int i,j;</span><br><span class="line">	printf(&quot;请输入灯的数量：&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">	</span><br><span class="line">	for(i&#x3D;1;i&lt;&#x3D;n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for(j&#x3D;1;i*j&lt;n;j++)</span><br><span class="line">		&#123;</span><br><span class="line">			lamp[i*j] &#x3D; lamp[i*j]&gt;0?0:1;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	for(i&#x3D;1;i&lt;&#x3D;n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%d &quot;,lamp[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.6</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	char str[200];</span><br><span class="line">	int space &#x3D; 0,num &#x3D; 0;</span><br><span class="line">	int i,len;</span><br><span class="line">	</span><br><span class="line">	gets(str);</span><br><span class="line">	len &#x3D; strlen(str);</span><br><span class="line">	</span><br><span class="line">	if (str[0] &#x3D; &#39; &#39;)</span><br><span class="line">	&#123;</span><br><span class="line">		space &#x3D; 1;</span><br><span class="line">	&#125;</span><br><span class="line">	for(i&#x3D;0;i&lt;len;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(str[i]&#x3D;&#x3D;&#39; &#39;)</span><br><span class="line">		&#123;</span><br><span class="line">			if(space&#x3D;&#x3D;0)</span><br><span class="line">			&#123;</span><br><span class="line">				space &#x3D; 1;</span><br><span class="line">				num++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			space &#x3D; 0;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if(space&#x3D;&#x3D;0)</span><br><span class="line">	&#123;</span><br><span class="line">		num&#x3D;num+1;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;单词总数为：%d&quot;,num); </span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.12</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;math.h&gt;</span><br><span class="line">const int n&#x3D;2000; &#x2F;&#x2F;定义素数的范围</span><br><span class="line">const int num &#x3D; 1898; &#x2F;&#x2F;累加和的值 </span><br><span class="line"></span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	int prime[n+1]&#x3D;&#123;0&#125;;</span><br><span class="line">	int i,j,MaxGene; &#x2F;&#x2F;循环变量，MaxGene为最大正因子</span><br><span class="line">	int totalPrime&#x3D;1;</span><br><span class="line">	int primediff[n&#x2F;2] &#x3D; &#123;0&#125;; &#x2F;&#x2F;素数的差</span><br><span class="line">	int primeSum &#x3D; 0; &#x2F;&#x2F;累加和</span><br><span class="line">	</span><br><span class="line">	MaxGene &#x3D; (int)sqrt(n);</span><br><span class="line">	for(i&#x3D;2;i&lt;&#x3D;MaxGene;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(prime[i]&#x3D;&#x3D;0)</span><br><span class="line">		&#123;</span><br><span class="line">			for(j&#x3D;2*i;j&lt;&#x3D;n;j&#x3D;j+i)</span><br><span class="line">			&#123;</span><br><span class="line">				prime[j] &#x3D; 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	prime[0]&#x3D;2;	</span><br><span class="line">	for(i&#x3D;3;i&lt;&#x3D;n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(prime[i]&#x3D;&#x3D;0)</span><br><span class="line">		&#123;</span><br><span class="line">			primediff[totalPrime - 1] &#x3D; i - prime[totalPrime - 1];</span><br><span class="line">			prime[totalPrime] &#x3D; i;</span><br><span class="line">			totalPrime++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	for(i&#x3D;0;i&lt;totalPrime;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		primeSum &#x3D; 0;</span><br><span class="line">		for(j &#x3D; i;j&lt;totalPrime&amp;&amp;primeSum&lt;num;j++)</span><br><span class="line">		&#123;</span><br><span class="line">			primeSum &#x3D; primeSum + primediff[j];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		if(primeSum &#x3D;&#x3D; num)</span><br><span class="line">		&#123;</span><br><span class="line">			printf(&quot;%d与%d之间的素数差之和为%d\n&quot;,prime[i],prime[j],num);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	 </span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yang Zeyu</p>
  <div class="site-description" itemprop="description">打工人，打工魂，打工都是人上人!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">19</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yang Zeyu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
